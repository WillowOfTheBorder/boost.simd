<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Boost.SIMD: boost::simd::cos</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Boost.SIMD
   &#160;<span id="projectnumber">(release)</span>
   </div>
   <div id="projectbrief">Flexible SIMD Programming</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__group-trigonometric_ga4d9c31d161955d5f1a756d459ce7ea7b.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a class="anchor" id="ga4d9c31d161955d5f1a756d459ce7ea7b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto boost::simd::cos </td>
          <td>(</td>
          <td class="paramtype">T const &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cosine of the input in radians. </p>
<dl class="section user"><dt>Semantic:</dt><dd></dd></dl>
<p>For every parameter of floating type T</p>
<div class="fragment"><div class="line">T r = <a class="code" href="group__group-trigonometric_ga4d9c31d161955d5f1a756d459ce7ea7b.html#ga4d9c31d161955d5f1a756d459ce7ea7b">cos</a>(x);</div>
</div><!-- fragment --><dl class="section user"><dt>Notes:</dt><dd>cos can be called with two parameters as : <div class="fragment"><div class="line">T r = <a class="code" href="group__group-trigonometric_ga4d9c31d161955d5f1a756d459ce7ea7b.html#ga4d9c31d161955d5f1a756d459ce7ea7b">cos</a>(x, range_);</div>
</div><!-- fragment --></dd></dl>
<p>range is a tag that allows some control on the computation accuracy and speed.</p>
<p>The control is on the reduction routine of the angle to the \([-\pi/4, \pi/4]\) interval they actually are 3 reduction routines protocol that respectly are sufficient for small_, medium_ and big_ angle values to have within cover test one ulp of difference with the according crlibm (correctly rounded math library) result.</p>
<p>Each one covers respectively intervals \([-A, A]\) with : </p><div class="fragment"><div class="line">|--------------|---------------|-------------|</div>
<div class="line">|              |   <span class="keywordtype">float</span>  A    |  <span class="keywordtype">double</span>  A  |</div>
<div class="line">|--------------|---------------|-------------|</div>
<div class="line">|    small_    |   20*<a class="code" href="group__group-constant_ga7d209ca9796ace803d49bc0196b0984c.html#ga7d209ca9796ace803d49bc0196b0984c">Pi</a>       | 20*<a class="code" href="group__group-constant_ga7d209ca9796ace803d49bc0196b0984c.html#ga7d209ca9796ace803d49bc0196b0984c">Pi</a>       |</div>
<div class="line">|--------------|---------------|-------------|</div>
<div class="line">|    medium_   |   2^6*<a class="code" href="group__group-constant_ga7d209ca9796ace803d49bc0196b0984c.html#ga7d209ca9796ace803d49bc0196b0984c">Pi</a>      | 2^18*<a class="code" href="group__group-constant_ga7d209ca9796ace803d49bc0196b0984c.html#ga7d209ca9796ace803d49bc0196b0984c">Pi</a>     |</div>
<div class="line">|--------------|---------------|-------------|</div>
<div class="line">|    big_      |   <a class="code" href="group__group-constant_gaca1fa10ea8e6a7619c8f1d04bcc28dd2.html#gaca1fa10ea8e6a7619c8f1d04bcc28dd2">Inf</a>         | <a class="code" href="group__group-constant_gaca1fa10ea8e6a7619c8f1d04bcc28dd2.html#gaca1fa10ea8e6a7619c8f1d04bcc28dd2">Inf</a>         |</div>
<div class="line">|--------------|-----------------------------|</div>
</div><!-- fragment --><p>In fact for each scalar singleton or simd vector of angles There are two possibilities : </p><ul>
<li>one is to test if all vector element(s) are in the proper range for the consecutive increasing values of A until we reach a good one or the last : the corresponding template tags are small_, medium_ and big_ </li>
<li>the second is to force directly a reduction method The corresponding template tags are direct_small_, direct_medium_ and direct_big_ <dl class="section user"><dt></dt><dd>direct_small_ is NOT equivalent to small_ because there are also two other methods for \([0, \pi/4]\) (no reduction) and \([\pi/4, \pi/2]\) (straight reduction) that are not considered in direct small_</dd></dl>
Note that for float the direct_big_ case is both early an hyper costly and shall be avoided whenever possible. To partially achieve this aim when double are available on the platform, this part of reduction is delegated to the double precision routines.</li>
</ul>
<dl class="section user"><dt>Advices</dt><dd><ul>
<li>If there is no restrictions ever on your angles and you care for precision use the default cos(x) or equivalently cos(x, big_) </li>
<li>if you do not care for precision you can use cos(x, medium_) or cos(x, small_) that will be accurate for their proper range and degrade in accuracy with greater values.</li>
</ul>
</dd></dl>
<dl class="section user"><dt></dt><dd>Now, the choice of direct or not relies on probabilities computations: assuming that a vector contains k elements and that testing all values that are in an interval takes c cycles and the probability of a value to be in interval \([a, b]\) is \(p(a, b)\) the number of cycles used by a direct \({}_i\) method is simply the reduction time: \(N(\)direct \({}_i)\) On the other side the number of cycles for the non-direct methods will have a more complicated expression :</dd></dl>
<p>\(\hspace{5em}\sum_{i=1}^{m} p(A_{i-1}, A_i)^k N(\)direct \({}_i)\)</p>
<dl class="section user"><dt></dt><dd>So the non direct methods will be interesting only if you want accurate results everywhere and have anyhow a big proportion of small angles. This is even more true (if possible) in simd and the more k is big, because of the kth power.</dd></dl>
<dl class="section user"><dt></dt><dd>For instance in the medium_ float case:</dd></dl>
<ul>
<li>if angles are equidistributed on \([0, 2^{16} \pi]\), the \(p(0, 20\pi)\) will be less than \(2^{-11}\) and thus in sse2 there will be 1 quadruple over 1.76e+13 falling in the small_ case...</li>
</ul>
<ul>
<li>Even sorting will do no good because the sort cost will be against the ratio of 1 successful quadruplet over 2048. </li>
<li>Contrarily if your angles have a gaussian distribution with 0 mean and \(10\pi\) standard deviation, 80% of the intervals will be in the "small_" case (95% of the values). </li>
<li>Finally for those that are sure of their angles taking place in a fixed range and want speed, three other template tags can be of choice: <pre class="fragment">        clipped_very_small_, clipped_small_ and clipped_medium_
</pre></li>
</ul>
<dl class="section user"><dt></dt><dd>they use the chosen reduction, but return Nan for any outsider.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__group-trigonometric_gaaaea5eca93de4ce7d3e57c23c7ee10bc.html#gaaaea5eca93de4ce7d3e57c23c7ee10bc" title="Computes the sine and cosine of the input. ">sincos</a>, <a class="el" href="group__group-trigonometric_ga4a1bbddbd2a35a98feebbacb8fc91da5.html#ga4a1bbddbd2a35a98feebbacb8fc91da5" title="cosine of the input in degree. ">cosd</a>, <a class="el" href="group__group-trigonometric_ga2d368af8624b1e6e18fea9c305d46475.html#ga2d368af8624b1e6e18fea9c305d46475" title="cosine of angle in  multiples. ">cospi</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>a value of the same type as the parameter </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceboost.html">boost</a></li><li class="navelem"><a class="el" href="namespaceboost_1_1simd.html">simd</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
